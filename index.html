<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />

  <!-- ‚úÖ PWA: viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ‚úÖ PWA: cor do tema (Android / barra superior) -->
  <meta name="theme-color" content="#0b3d91" />

  <!-- ‚úÖ PWA: descri√ß√£o -->
  <meta name="description" content="Les√£o por Press√£o - Projeto Integrador. Conte√∫do educativo em formato instal√°vel (PWA)." />

  <!-- ‚úÖ PWA: manifest (‚úÖ corrigido para GitHub Pages /lesa/) -->
  <link rel="manifest" href="manifest.webmanifest" />

  <!-- ‚úÖ PWA: √≠cone para iOS (‚úÖ corrigido para GitHub Pages /lesa/) -->
  <link rel="apple-touch-icon" href="icons/icon-192.png" />

  <title>Les√£o por Press√£o - Projeto Integrador</title>

  <style>
    :root{
      --lpp-blue-1:#0b3d91;
      --lpp-blue-2:#0a2f73;
      --lpp-blue-3:#0b5bd3;
      --lpp-bg:#eef2f7;
      --lpp-card:#ffffff;
      --lpp-text:#0f172a;
      --lpp-muted:#475569;

      --lpp-shadow: 0 12px 30px rgba(2, 6, 23, .10);
      --lpp-shadow-2: 0 18px 45px rgba(2, 6, 23, .14);
      --lpp-shadow-soft: 0 10px 24px rgba(2, 6, 23, .08);

      --lpp-radius: 18px;
      --lpp-max: 980px;

      --lpp-ring: 0 0 0 4px rgba(56, 130, 246, .18);
      --lpp-border: rgba(15, 23, 42, .08);
      --lpp-glow: 0 0 0 1px rgba(255,255,255,.35) inset;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--lpp-text);
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(11,91,211,.15), transparent 55%),
        radial-gradient(900px 500px at 90% 10%, rgba(11,61,145,.14), transparent 55%),
        var(--lpp-bg);
    }

    /* HEADER */
    .lpp-header{
      background: linear-gradient(180deg, var(--lpp-blue-1), #0b4ab1);
      color:#fff;
      padding: 28px 16px 18px;
      text-align:center;
      position: relative;
      overflow:hidden;
    }
    .lpp-header::after{
      content:"";
      position:absolute;
      inset:-40px -120px auto -120px;
      height: 160px;
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,.22), transparent 60%);
      transform: rotate(-2deg);
      pointer-events:none;
    }
    .lpp-header h1{
      margin:0;
      font-size: clamp(26px, 4vw, 38px);
      font-weight: 800;
      letter-spacing: .2px;
      text-shadow: 0 8px 24px rgba(2,6,23,.18);
    }
    .lpp-header p{
      margin:8px 0 0;
      opacity:.92;
      font-size: 14px;
    }

    /* NAV */
    .lpp-nav{
      background: var(--lpp-blue-2);
      position: sticky;
      top: 0;
      z-index: 50;
      box-shadow: 0 12px 24px rgba(2,6,23,.12);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .lpp-nav-inner{
      max-width: var(--lpp-max);
      margin: 0 auto;
      padding: 10px 12px;
      position: relative;
    }

    /* MENU (DESKTOP padr√£o) */
    .lpp-menu{
      display:flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content:center;
      align-items:center;
    }
    .lpp-menu a{
      color:#eaf2ff;
      text-decoration:none;
      padding: 10px 12px;
      border-radius: 12px;
      font-weight: 800;
      font-size: 14px;
      line-height: 1;
      white-space: nowrap;
      transition: transform .15s ease, background .15s ease, box-shadow .15s ease, opacity .15s ease;
      outline: none;
    }
    .lpp-menu a:hover{
      background: rgba(255,255,255,.14);
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(2,6,23,.18);
    }
    .lpp-menu a:focus-visible{
      box-shadow: var(--lpp-ring);
      background: rgba(255,255,255,.14);
    }
    .lpp-menu a[aria-current="page"]{
      background: rgba(255,255,255,.18);
      outline: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 10px 18px rgba(2,6,23,.20);
    }

    /* CONTE√öDO */
    .lpp-main{
      max-width: var(--lpp-max);
      margin: 22px auto 60px;
      padding: 0 14px;
    }

    /* cart√µes mais ‚Äúvivos‚Äù */
    .lpp-card{
      background: linear-gradient(180deg, rgba(255,255,255,1), rgba(255,255,255,.98));
      border-radius: var(--lpp-radius);
      box-shadow: var(--lpp-shadow);
      padding: 18px;
      margin: 16px 0;
      border: 1px solid var(--lpp-border);
      position: relative;
      overflow:hidden;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      will-change: transform;
    }
    .lpp-card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(600px 220px at 20% 0%, rgba(11,91,211,.10), transparent 55%);
      opacity: 0;
      transition: opacity .18s ease;
      pointer-events:none;
    }
    .lpp-card:hover{
      transform: translateY(-3px);
      box-shadow: var(--lpp-shadow-2);
      border-color: rgba(11,91,211,.22);
    }
    .lpp-card:hover::before{ opacity: 1; }
    .lpp-card:focus-within{
      box-shadow: var(--lpp-shadow-2), var(--lpp-ring);
      border-color: rgba(11,91,211,.30);
    }

    .lpp-title{
      display:flex;
      align-items:center;
      gap: 10px;
      margin:0 0 10px;
      font-size: 20px;
      font-weight: 900;
      color: #0b2b63;
      letter-spacing: .2px;
    }
    .lpp-title::before{
      content:"";
      width: 4px;
      height: 22px;
      border-radius: 999px;
      background: var(--lpp-blue-3);
      display:inline-block;
      box-shadow: 0 10px 18px rgba(11,91,211,.25);
    }
    .lpp-text{
      margin:0;
      color: var(--lpp-muted);
      line-height: 1.6;
      font-size: 15px;
    }
    .lpp-list{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--lpp-muted);
      line-height: 1.6;
      font-size: 15px;
    }
    .lpp-list li{ margin: 6px 0; }

    /* IMAGEM */
    .lpp-figure{
      margin: 14px 0 0;
      border-radius: 16px;
      overflow:hidden;
      background:#f8fafc;
      border: 1px solid #e5e7eb;
      box-shadow: var(--lpp-shadow-soft);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .lpp-figure img{
      width:100%;
      height:auto;
      display:block;
      transform: scale(1.001);
      transition: transform .25s ease;
    }
    .lpp-card:hover .lpp-figure{
      transform: translateY(-2px);
      box-shadow: 0 18px 40px rgba(2, 6, 23, .12);
    }
    .lpp-card:hover .lpp-figure img{
      transform: scale(1.03);
    }

    /* chips/bot√µes */
    .lpp-pill{
      padding: 10px 12px;
      border-radius: 999px;
      background: #edf4ff;
      border: 1px solid #d8e7ff;
      color:#0b2b63;
      font-weight:900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      transition: transform .14s ease, box-shadow .14s ease, background .14s ease;
      box-shadow: 0 10px 18px rgba(2,6,23,.06);
    }
    .lpp-pill:hover{
      background:#e7f0ff;
      transform: translateY(-1px);
      box-shadow: 0 16px 28px rgba(2,6,23,.10);
    }
    .lpp-pill:active{
      transform: translateY(0px);
    }

    /* BUSCA */
    .lpp-search{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items:center;
      margin-top: 12px;
    }
    .lpp-search input{
      flex: 1 1 240px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid #dbe3ef;
      outline: none;
      font-size: 15px;
      background: #fff;
      transition: box-shadow .14s ease, border-color .14s ease;
    }
    .lpp-search input:focus{
      border-color:#9cc3ff;
      box-shadow: var(--lpp-ring);
    }

    /* FAQ */
    .lpp-faq{
      margin-top: 10px;
      display:flex;
      flex-direction: column;
      gap: 10px;
    }
    details.lpp-qa{
      border: 1px solid #e5eaf3;
      border-radius: 14px;
      padding: 10px 12px;
      background: #fff;
      box-shadow: 0 12px 22px rgba(2,6,23,.06);
      transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
      overflow:hidden;
    }
    details.lpp-qa:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 34px rgba(2,6,23,.10);
      border-color: rgba(11,91,211,.18);
    }
    details.lpp-qa summary{
      cursor:pointer;
      font-weight: 900;
      color: #0b2b63;
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      font-size: 15px;
      outline:none;
    }
    details.lpp-qa summary::-webkit-details-marker{ display:none; }
    details.lpp-qa summary::after{
      content:"‚ñæ";
      opacity:.75;
      font-size: 16px;
      transition: transform .16s ease;
    }
    details.lpp-qa[open] summary::after{
      content:"‚ñ¥";
    }

    .lpp-answer{
      margin: 10px 0 0;
      color: var(--lpp-muted);
      line-height: 1.6;
      font-size: 14.5px;
    }

    /* RESULTADOS DA BUSCA */
    .lpp-results{ margin-top: 10px; display:none; }
    .lpp-results.visible{ display:block; }
    .lpp-result{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid #e5eaf3;
      background: #fff;
      margin: 10px 0;
      box-shadow: 0 14px 26px rgba(2,6,23,.07);
      animation: fadeUp .18s ease both;
    }
    .lpp-result h3{
      margin:0 0 6px;
      font-size: 15px;
      color:#0b2b63;
    }
    .lpp-result p{
      margin:0;
      color: var(--lpp-muted);
      line-height: 1.5;
      font-size: 14px;
    }
    mark{
      background: #fff2b3;
      padding: 0 2px;
      border-radius: 4px;
    }

    /* FOOTER */
    .lpp-footer{
      text-align:center;
      color:#64748b;
      font-size: 13px;
      padding: 18px 10px 30px;
    }

    /* anima√ß√£o leve */
    @keyframes fadeUp{
      from{ opacity:0; transform: translateY(6px); }
      to{ opacity:1; transform: translateY(0); }
    }

    /* ‚úÖ MOBILE: menu com rolagem horizontal + snap + gradiente */
    @media (max-width: 720px){
      .lpp-menu{
        flex-wrap: nowrap;
        justify-content:flex-start;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        gap: 8px;
        padding: 4px 2px;
        scrollbar-width: none;
        scroll-snap-type: x mandatory;
      }
      .lpp-menu::-webkit-scrollbar{ display:none; }

      .lpp-menu a{
        flex: 0 0 auto;
        padding: 10px 12px;
        scroll-snap-align: start;
      }

      .lpp-nav-inner::before,
      .lpp-nav-inner::after{
        content:"";
        position:absolute;
        top:0;
        bottom:0;
        width: 18px;
        pointer-events:none;
      }
      .lpp-nav-inner::before{
        left:0;
        background: linear-gradient(90deg, rgba(10,47,115,1), rgba(10,47,115,0));
      }
      .lpp-nav-inner::after{
        right:0;
        background: linear-gradient(270deg, rgba(10,47,115,1), rgba(10,47,115,0));
      }
    }

    /* microajustes para telas bem pequenas */
    @media (max-width: 480px){
      .lpp-card{ padding: 16px; }
      .lpp-title{ font-size: 18px; }
      .lpp-text, .lpp-list{ font-size: 15px; }
    }

    /* acessibilidade: reduz movimento */
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      *{ transition:none !important; animation:none !important; }
    }

    /* =========================================================
       ‚úÖ PWA INSTALL (isolado, n√£o interfere no .lpp-*)
       ========================================================= */
    .pwa-modal{
      position: fixed;
      inset: 0;
      background: rgba(2, 6, 23, .55);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 999999;
    }
    .pwa-modal.open{ display:flex; }

    .pwa-box{
      width: min(520px, 100%);
      background: #ffffff;
      border-radius: 18px;
      border: 1px solid rgba(15, 23, 42, .10);
      box-shadow: 0 20px 55px rgba(2,6,23,.28);
      padding: 16px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      transform: none !important;
    }

    .pwa-title{
      margin: 0 0 10px;
      font-size: 18px;
      font-weight: 900;
      color: #0b2b63;
    }

    .pwa-img{
      width: 100%;
      height: auto;
      display:block;
      border-radius: 14px;
      border: 1px solid rgba(15, 23, 42, .10);
      box-shadow: 0 12px 24px rgba(2,6,23,.12);
      margin-bottom: 10px;
    }

    .pwa-text{
      margin: 0 0 12px;
      font-size: 14.5px;
      line-height: 1.6;
      color: #475569;
    }

    .pwa-actions{
      display:flex;
      gap: 10px;
      justify-content: flex-end;
      flex-wrap: wrap;
    }

    .pwa-btn{
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      cursor: pointer;
      font-weight: 900;
      font-size: 14px;
    }

    .pwa-btn-primary{ background: #0b3d91; color:#fff; }
    .pwa-btn-secondary{ background:#fff; border-color:#dbe3ef; color:#0f172a; }

    .pwa-btn:focus-visible{
      outline:none;
      box-shadow: 0 0 0 4px rgba(56, 130, 246, .20);
    }
  </style>
</head>

<body>

  <header class="lpp-header">
    <h1>Les√£o por Press√£o</h1>
    <p>Projeto Integrador</p>

    <div style="margin-top:14px;">
      <button id="pwaInstallBtn" class="lpp-pill" style="display:none;">
        üì≤ Instalar aplicativo
      </button>
    </div>
  </header>

  <nav class="lpp-nav" aria-label="Navega√ß√£o principal">
    <div class="lpp-nav-inner">
      <div class="lpp-menu" id="menuLinks">
        <a href="index.html" aria-current="page">In√≠cio</a>
        <a href="nosso-produto.html">Nosso Produto</a>
        <a href="tratamento.html">Tratamento</a>
        <a href="impacto-economico.html">Impacto Econ√¥mico</a>
        <a href="guia-simples.html">Guia Simples</a>
        <a href="selecao-produtos.html">Sele√ß√£o de Produtos</a>
        <a href="avaliacao.html">Avalia√ß√£o</a>
      </div>
    </div>
  </nav>

  <main class="lpp-main">
    <section class="lpp-card" id="conceito">
      <h2 class="lpp-title">Conceito</h2>
      <p class="lpp-text">
        Les√£o por press√£o √© um dano localizado na pele e/ou no tecido subjacente, geralmente sobre
        uma proemin√™ncia √≥ssea, resultante de press√£o prolongada ou press√£o associada ao cisalhamento.
      </p>

      <div class="lpp-figure">
        <img src="lesao.png" alt="Exemplo ilustrativo de les√£o por press√£o em proemin√™ncia √≥ssea" />
      </div>
    </section>

    <section class="lpp-card" id="fatores">
      <h2 class="lpp-title">Fatores de Risco</h2>
      <ul class="lpp-list">
        <li>Imobilidade prolongada</li>
        <li>Desnutri√ß√£o e desidrata√ß√£o</li>
        <li>Incontin√™ncia urin√°ria e fecal</li>
        <li>Idade avan√ßada</li>
        <li>Doen√ßas cr√¥nicas (ex.: diabetes, insufici√™ncia vascular)</li>
        <li>Redu√ß√£o da sensibilidade</li>
      </ul>
    </section>

    <section class="lpp-card" id="classificacao">
      <h2 class="lpp-title">Classifica√ß√£o</h2>
      <p class="lpp-text">
        As les√µes por press√£o s√£o classificadas em est√°gios conforme profundidade e comprometimento tecidual.
      </p>
    </section>

    <section class="lpp-card" id="prevencao">
      <h2 class="lpp-title">Preven√ß√£o</h2>
      <p class="lpp-text">
        Envolve avalia√ß√£o de risco, mudan√ßa de dec√∫bito, uso de superf√≠cies de suporte e cuidados adequados com a pele.
      </p>
    </section>

    <section class="lpp-card" id="faq">
      <h2 class="lpp-title">Perguntas frequentes</h2>
      <p class="lpp-text">
        Digite uma palavra (ex.: ‚Äútroca‚Äù, ‚Äúdor‚Äù, ‚Äúvermelho‚Äù, ‚Äúumidade‚Äù) para localizar perguntas e respostas.
      </p>

      <div class="lpp-search">
        <input id="searchInput" type="search" placeholder="Buscar no FAQ..." />
        <span class="lpp-pill" data-q="troca">troca</span>
        <span class="lpp-pill" data-q="vermelho">vermelho</span>
        <span class="lpp-pill" data-q="umidade">umidade</span>
        <span class="lpp-pill" data-q="dor">dor</span>
      </div>

      <div class="lpp-results" id="resultsBox" aria-live="polite"></div>

      <div class="lpp-faq" id="faqList">
        <!-- (seu conte√∫do de FAQ continua aqui exatamente igual) -->
      </div>
    </section>
  </main>

  <footer class="lpp-footer">
    ¬© 2026 - Projeto Integrador
  </footer>

  <div id="pwaModal" class="pwa-modal" aria-hidden="true">
    <div class="pwa-box" role="dialog" aria-modal="true" aria-labelledby="pwaTitle">
      <h2 id="pwaTitle" class="pwa-title">Instalar aplicativo</h2>

      <!-- ‚úÖ corrigido para GitHub Pages /lesa/ -->
      <img class="pwa-img" src="icons/saude-install.png" alt="Imagem relacionada √† sa√∫de" width="900" height="520" loading="lazy">

      <p class="pwa-text">
        Instale para acessar rapidamente o conte√∫do na tela inicial do Android. O aplicativo atualiza automaticamente quando o site atualizar.
      </p>

      <div class="pwa-actions">
        <button id="pwaCancel" class="pwa-btn pwa-btn-secondary">Agora n√£o</button>
        <button id="pwaConfirm" class="pwa-btn pwa-btn-primary">Instalar</button>
      </div>
    </div>
  </div>

  <script>
    const input = document.getElementById('searchInput');
    const resultsBox = document.getElementById('resultsBox');
    const faqs = Array.from(document.querySelectorAll('#faqList details.lpp-qa'));

    function escapeHtml(str){
      return str.replace(/[&<>"']/g, m => ({
        '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'
      }[m]));
    }

    function highlight(text, query){
      if(!query) return escapeHtml(text);
      const q = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
      const re = new RegExp(`(${q})`, 'ig');
      return escapeHtml(text).replace(re, '<mark>$1</mark>');
    }

    function doSearch(q){
      const query = (q || '').trim().toLowerCase();
      if(!query){
        resultsBox.classList.remove('visible');
        resultsBox.innerHTML = '';
        return;
      }

      const matched = faqs.filter(d => {
        const title = d.querySelector('summary')?.innerText.toLowerCase() || '';
        const body  = d.querySelector('.lpp-answer')?.innerText.toLowerCase() || '';
        const tags  = (d.getAttribute('data-tags') || '').toLowerCase();
        return (title + ' ' + body + ' ' + tags).includes(query);
      });

      resultsBox.classList.add('visible');

      if(matched.length === 0){
        resultsBox.innerHTML = `
          <div class="lpp-result">
            <h3>Nenhum resultado</h3>
            <p>Tente outra palavra (ex.: ‚Äútroca‚Äù, ‚Äúvermelho‚Äù, ‚Äúumidade‚Äù, ‚Äúdor‚Äù).</p>
          </div>
        `;
        return;
      }

      resultsBox.innerHTML = matched.map(d => {
        const title = d.querySelector('summary')?.innerText || '';
        const body = d.querySelector('.lpp-answer')?.innerText || '';
        return `
          <div class="lpp-result">
            <h3>${highlight(title, query)}</h3>
            <p>${highlight(body, query)}</p>
          </div>
        `;
      }).join('');

      matched.forEach((d, i) => d.open = i < 3);
    }

    input?.addEventListener('input', (e) => doSearch(e.target.value));

    document.querySelectorAll('.lpp-pill').forEach(p => {
      p.addEventListener('click', () => {
        const q = p.getAttribute('data-q') || '';
        input.value = q;
        doSearch(q);
        input.focus();
      });
    });

    const cards = Array.from(document.querySelectorAll('.lpp-card'));
    const canHover = window.matchMedia('(hover:hover)').matches;

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    if(canHover){
      cards.forEach(card => {
        card.addEventListener('mousemove', (e) => {
          const r = card.getBoundingClientRect();
          const x = (e.clientX - r.left) / r.width;
          const y = (e.clientY - r.top) / r.height;

          const rx = clamp((0.5 - y) * 6, -6, 6);
          const ry = clamp((x - 0.5) * 6, -6, 6);

          card.style.transform = `translateY(-3px) rotateX(${rx}deg) rotateY(${ry}deg)`;
        });

        card.addEventListener('mouseleave', () => {
          card.style.transform = '';
        });
      });
    }
  </script>

  <!-- ‚úÖ PWA: registro do Service Worker (‚úÖ corrigido para GitHub Pages /lesa/) -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", function () {
        navigator.serviceWorker.register("service-worker.js")
          .then(function (registration) {
            console.log("Service Worker registrado:", registration.scope);
          })
          .catch(function (error) {
            console.log("Falha ao registrar Service Worker:", error);
          });
      });
    }
  </script>

  <script>
    let deferredPrompt = null;

    const installBtn = document.getElementById("pwaInstallBtn");
    const modal = document.getElementById("pwaModal");
    const cancelBtn = document.getElementById("pwaCancel");
    const confirmBtn = document.getElementById("pwaConfirm");

    function openModal(){
      modal.classList.add("open");
      modal.setAttribute("aria-hidden", "false");
    }

    function closeModal(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden", "true");
    }

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;
      if (installBtn) installBtn.style.display = "inline-block";
    });

    installBtn?.addEventListener("click", () => {
      if (!deferredPrompt) return;
      openModal();
    });

    cancelBtn?.addEventListener("click", closeModal);

    confirmBtn?.addEventListener("click", async () => {
      if (!deferredPrompt) return;
      closeModal();
      deferredPrompt.prompt();
      try { await deferredPrompt.userChoice; }
      finally {
        deferredPrompt = null;
        if (installBtn) installBtn.style.display = "none";
      }
    });

    modal?.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });
  </script>

</body>
</html>
